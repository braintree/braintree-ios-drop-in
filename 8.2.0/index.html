<!DOCTYPE html>
<html lang="en">
  <head>
    <title>BraintreeDropIn  Reference</title>
    <link rel="stylesheet" type="text/css" href="css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="css/highlight.css" />
    <meta charset="utf-8">
    <script src="js/jquery.min.js" defer></script>
    <script src="js/jazzy.js" defer></script>
    
    <script src="js/lunr.min.js" defer></script>
    <script src="js/typeahead.jquery.js" defer></script>
    <script src="js/jazzy.search.js" defer></script>
  </head>
  <body>


    <a title="BraintreeDropIn  Reference"></a>

    <header class="header">
      <p class="header-col header-col--primary">
        <a class="header-link" href="index.html">
          BraintreeDropIn 8.2.0 Docs
        </a>
         (54% documented)
      </p>
    
      <p class="header-col--secondary">
        <form role="search" action="search.json">
          <input type="text" placeholder="Search documentation" data-typeahead>
        </form>
      </p>
    
        <p class="header-col header-col--secondary">
          <a class="header-link" href="https://github.com/braintree/braintree-ios-drop-in">
            <img class="header-icon" src="img/gh.png"/>
            View on GitHub
          </a>
        </p>
    
    </header>

    <p class="breadcrumbs">
      <a class="breadcrumb" href="index.html">BraintreeDropIn Reference</a>
      <img class="carat" src="img/carat.png" />
      BraintreeDropIn  Reference
    </p>

    <div class="content-wrapper">
      <nav class="navigation">
        <ul class="nav-groups">
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Categories.html">Categories</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Categories/UIColor%28BTUIK%29.html">UIColor(BTUIK)</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Classes.html">Classes</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/BTCardFormViewController.html">BTCardFormViewController</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/BTDropInBaseViewController.html">BTDropInBaseViewController</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/BTDropInController.html">BTDropInController</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/BTDropInRequest.html">BTDropInRequest</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/BTDropInResult.html">BTDropInResult</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/BTPaymentSelectionViewController.html">BTPaymentSelectionViewController</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/BTUIKAppearance.html">BTUIKAppearance</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/BTUIKCardExpirationValidator.html">BTUIKCardExpirationValidator</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/BTUIKCardExpiryFormat.html">BTUIKCardExpiryFormat</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/BTUIKCardListLabel.html">BTUIKCardListLabel</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/BTUIKCardNumberFormField.html">BTUIKCardNumberFormField</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/BTUIKCardType.html">BTUIKCardType</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/BTUIKCardholderNameFormField.html">BTUIKCardholderNameFormField</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/BTUIKExpiryFormField.html">BTUIKExpiryFormField</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/BTUIKExpiryInputView.html">BTUIKExpiryInputView</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/BTUIKFormField.html">BTUIKFormField</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/BTUIKInputAccessoryToolbar.html">BTUIKInputAccessoryToolbar</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/BTUIKLocalizedString.html">BTUIKLocalizedString</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/BTUIKMobileCountryCodeFormField.html">BTUIKMobileCountryCodeFormField</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/BTUIKMobileNumberFormField.html">BTUIKMobileNumberFormField</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/BTUIKPaymentOptionCardView.html">BTUIKPaymentOptionCardView</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/BTUIKPostalCodeFormField.html">BTUIKPostalCodeFormField</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/BTUIKSecurityCodeFormField.html">BTUIKSecurityCodeFormField</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/BTUIKSwitchFormField.html">BTUIKSwitchFormField</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/BTUIKTextField.html">BTUIKTextField</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/BTUIKUtil.html">BTUIKUtil</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/BTUIKVectorArtView.html">BTUIKVectorArtView</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/BTUIKViewUtil.html">BTUIKViewUtil</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/BTVaultManagementViewController.html">BTVaultManagementViewController</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Constants.html">Constants</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Constants.html#/c:@BraintreeDropInVersionNumber">BraintreeDropInVersionNumber</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Constants.html#/c:@BraintreeDropInVersionString">BraintreeDropInVersionString</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Constants.html#/c:@BraintreeUIKitVersionNumber">BraintreeUIKitVersionNumber</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Constants.html#/c:@BraintreeUIKitVersionString">BraintreeUIKitVersionString</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Enums.html">Enumerations</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/BTFormFieldSetting.html">BTFormFieldSetting</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/BTUIKCardNumberFormFieldState.html">BTUIKCardNumberFormFieldState</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/BTUIKColorScheme.html">BTUIKColorScheme</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/BTUIKPaymentOptionType.html">BTUIKPaymentOptionType</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/BTUIKVectorArtSize.html">BTUIKVectorArtSize</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/BTUIKVisualAssetType.html">BTUIKVisualAssetType</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Protocols.html">Protocols</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/BTCardFormViewControllerDelegate.html">BTCardFormViewControllerDelegate</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/BTDropInControllerDelegate.html">BTDropInControllerDelegate</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/BTPaymentSelectionViewControllerDelegate.html">BTPaymentSelectionViewControllerDelegate</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/BTUIKCardNumberFormFieldDelegate.html">BTUIKCardNumberFormFieldDelegate</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/BTUIKExpiryInputViewDelegate.html">BTUIKExpiryInputViewDelegate</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/BTUIKFormFieldDelegate.html">BTUIKFormFieldDelegate</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/BTUIKTextFieldEditDelegate.html">BTUIKTextFieldEditDelegate</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Type%20Definitions.html">Type Definitions</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Type%20Definitions.html#/c:BTDropInController.h@T@BTDropInControllerHandler">BTDropInControllerHandler</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Type%20Definitions.html#/c:BTDropInResult.h@T@BTDropInResultFetchHandler">BTDropInResultFetchHandler</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <article class="main-content">

        <section class="section">
          <div class="section-content top-matter">
            
            <h1 id='braintree-ios-drop-in-sdk' class='heading'>Braintree iOS Drop-In SDK</h1>

<p><a href="https://github.com/Carthage/Carthage"><img src="https://img.shields.io/badge/Carthage-compatible-4BC51D.svg?style=flat" alt="Carthage compatible"></a>
<a href="https://cocoapods.org/pods/BraintreeDropIn"><img src="https://img.shields.io/cocoapods/v/BraintreeDropIn.svg?style=flat" alt="CocoaPods compatible"></a></p>

<p><img src="https://github.com/braintree/braintree-ios-drop-in/workflows/CI/badge.svg" alt="GitHub Actions CI"></p>

<p>Welcome to Braintree&rsquo;s Drop-In SDK for iOS!</p>

<p><img src="Images/client-sdk-ios-series-light.png" alt="Drop-in light theme" title="Drop-in light theme"></p>

<p><strong>The Braintree iOS Drop-In SDK requires Xcode 11+</strong>. It permits a Deployment Target of iOS 9.0 or higher.</p>
<h1 id='what-39-s-new' class='heading'>What&rsquo;s new</h1>

<ul>
<li>All new UI and integration for Drop-In</li>
<li>Fetch a customer&rsquo;s payment method without showing UI</li>
<li>UI elements, art, helpers and localization are now accessible</li>
<li>Added Apple Pay and UnionPay support to Drop-In</li>
<li>Customizable appearance</li>
<li>And more&hellip;</li>
</ul>

<p>Please create an <a href="https://github.com/braintree/braintree-ios-drop-in/issues">issue</a> with any comments or concerns.</p>
<h2 id='getting-started' class='heading'>Getting Started</h2>

<p>We recommend using either <a href="https://github.com/CocoaPods/CocoaPods">CocoaPods</a> or <a href="https://github.com/Carthage/Carthage">Carthage</a> to integrate the Braintree SDK with your project.</p>
<h3 id='cocoapods' class='heading'>CocoaPods</h3>

<p>Add to your <code>Podfile</code>:</p>
<pre class="highlight plaintext"><code>pod 'BraintreeDropIn'
</code></pre>

<p>Then run <code>pod install</code>.</p>

<p>Customize your integration by specifying additional components. For example, to add Apple Pay support:</p>
<pre class="highlight plaintext"><code>pod 'BraintreeDropIn'
pod 'Braintree/Apple-Pay'
</code></pre>

<p>See our <a href="https://github.com/braintree/braintree-ios-drop-in/blob/master/BraintreeDropIn.podspec"><code>Podspec</code></a> for more information.</p>

<p><em>Note:</em> If you are using version 8.x.x of the Braintree Drop-In iOS SDK in Xcode 12, you may see the warning <code>The iOS Simulator deployment target is set to 8.0, but the range of supported deployment target versions is 9.0 to 14.0.99</code>. This will not prevent your app from compiling. This is a <a href="https://github.com/CocoaPods/CocoaPods/issues/7314">CocoaPods issue</a> with a known workaround.</p>
<h3 id='carthage' class='heading'>Carthage</h3>

<p>Add <code>github &quot;braintree/braintree-ios-drop-in&quot;</code> to your <code>Cartfile</code>, and <a href="https://github.com/Carthage/Carthage#adding-frameworks-to-an-application">add the frameworks to your project</a>.</p>

<p>You will need the following frameworks at a minimum:</p>
<pre class="highlight plaintext"><code>BraintreeDropIn.framework
BraintreeUIKit.framework
BraintreeCard.framework
BraintreeCore.framework
BraintreePaymentFlow.framework
BraintreePayPal.framework
PayPalDataCollector.framework
PayPalOneTouch.framework
PayPalUtils.framework
</code></pre>

<p>For Apple Pay, you must add the following framework in addition to PassKit:</p>
<pre class="highlight plaintext"><code>BraintreeApplePay.framework
</code></pre>

<p>For 3DS 2.0, you must add the following framework:</p>
<pre class="highlight plaintext"><code>CardinalMobile.framework
</code></pre>
<h2 id='documentation' class='heading'>Documentation</h2>
<h3 id='import-braintreedropin-and-braintree' class='heading'>Import BraintreeDropIn and Braintree</h3>

<p>Add the import statements to any class where you are using Braintree.</p>
<pre class="highlight plaintext"><code>import BraintreeDropIn
import Braintree
</code></pre>
<h3 id='show-drop-in' class='heading'>Show Drop-In</h3>

<p>Present <code><a href="Classes/BTDropInController.html">BTDropInController</a></code> to collect the customer&rsquo;s payment information and receive the <code>nonce</code> to send to your server. Saved payment methods will appear if you specified a <code>customer_id</code> when creating your client token.</p>
<pre class="highlight swift"><code><span class="kd">func</span> <span class="nf">showDropIn</span><span class="p">(</span><span class="nv">clientTokenOrTokenizationKey</span><span class="p">:</span> <span class="kt">String</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">let</span> <span class="nv">request</span> <span class="o">=</span>  <span class="kt">BTDropInRequest</span><span class="p">()</span>
    <span class="k">let</span> <span class="nv">dropIn</span> <span class="o">=</span> <span class="kt">BTDropInController</span><span class="p">(</span><span class="nv">authorization</span><span class="p">:</span> <span class="n">clientTokenOrTokenizationKey</span><span class="p">,</span> <span class="nv">request</span><span class="p">:</span> <span class="n">request</span><span class="p">)</span>
    <span class="p">{</span> <span class="p">(</span><span class="n">controller</span><span class="p">,</span> <span class="n">result</span><span class="p">,</span> <span class="n">error</span><span class="p">)</span> <span class="k">in</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">error</span> <span class="o">!=</span> <span class="kc">nil</span><span class="p">)</span> <span class="p">{</span>
            <span class="nf">print</span><span class="p">(</span><span class="s">"ERROR"</span><span class="p">)</span>
        <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">result</span><span class="p">?</span><span class="o">.</span><span class="n">isCancelled</span> <span class="o">==</span> <span class="kc">true</span><span class="p">)</span> <span class="p">{</span>
            <span class="nf">print</span><span class="p">(</span><span class="s">"CANCELLED"</span><span class="p">)</span>
        <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="k">let</span> <span class="nv">result</span> <span class="o">=</span> <span class="n">result</span> <span class="p">{</span>
            <span class="c1">// Use the BTDropInResult properties to update your UI</span>
            <span class="k">let</span> <span class="nv">selectedPaymentOptionType</span> <span class="o">=</span> <span class="n">result</span><span class="o">.</span><span class="n">paymentOptionType</span>
            <span class="k">let</span> <span class="nv">selectedPaymentMethod</span> <span class="o">=</span> <span class="n">result</span><span class="o">.</span><span class="n">paymentMethod</span>
            <span class="k">let</span> <span class="nv">selectedPaymentMethodIcon</span> <span class="o">=</span> <span class="n">result</span><span class="o">.</span><span class="n">paymentIcon</span>
            <span class="k">let</span> <span class="nv">selectedPaymentMethodDescription</span> <span class="o">=</span> <span class="n">result</span><span class="o">.</span><span class="n">paymentDescription</span>
        <span class="p">}</span>
        <span class="n">controller</span><span class="o">.</span><span class="nf">dismiss</span><span class="p">(</span><span class="nv">animated</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span> <span class="nv">completion</span><span class="p">:</span> <span class="kc">nil</span><span class="p">)</span>
    <span class="p">}</span>
    <span class="k">self</span><span class="o">.</span><span class="nf">present</span><span class="p">(</span><span class="n">dropIn</span><span class="o">!</span><span class="p">,</span> <span class="nv">animated</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span> <span class="nv">completion</span><span class="p">:</span> <span class="kc">nil</span><span class="p">)</span>
<span class="p">}</span>
</code></pre>
<h3 id='apple-pay-drop-in' class='heading'>Apple Pay + Drop-In</h3>

<p>Make sure the following is included in your Podfile:</p>
<pre class="highlight plaintext"><code>pod 'Braintree/Apple-Pay'
</code></pre>

<p>Apple Pay is enabled by default in Drop-In. Unless you opt out, by setting <code>showApplePayPaymentOption = false</code>, Drop-In will show Apple Pay as a payment option as long as it is enabled in the control panel. Below is an example of hiding the Apple Pay button if the device can&rsquo;t make Apple Pay payments using certain card networks:</p>
<pre class="highlight swift"><code><span class="k">let</span> <span class="nv">request</span> <span class="o">=</span>  <span class="kt">BTDropInRequest</span><span class="p">()</span>
<span class="k">let</span> <span class="nv">canMakePayments</span> <span class="o">=</span> <span class="kt">PKPaymentAuthorizationViewController</span><span class="o">.</span><span class="nf">canMakePayments</span><span class="p">()</span> <span class="o">&amp;&amp;</span> <span class="kt">PKPaymentAuthorizationViewController</span><span class="o">.</span><span class="nf">canMakePayments</span><span class="p">(</span><span class="nv">usingNetworks</span><span class="p">:</span> <span class="p">[</span><span class="o">.</span><span class="n">amex</span><span class="p">,</span> <span class="o">.</span><span class="n">visa</span><span class="p">,</span> <span class="o">.</span><span class="n">masterCard</span><span class="p">])</span>
<span class="n">request</span><span class="o">.</span><span class="n">applePayDisabled</span> <span class="o">=</span> <span class="o">!</span><span class="n">canMakePayments</span>
</code></pre>

<p><strong>Important</strong> If your customer selected Apple Pay as their preferred payment method then <code>result.paymentOptionType == .ApplePay</code> and the <code>result.paymentMethod</code> will be <code>nil</code>. Selecting Apple Pay does not display the Apple Pay sheet or create a nonce - you will still need to do that at the appropriate time in your app. Use <code>BTApplePayClient</code> to tokenize the customer&rsquo;s Apple Pay information - <a href="https://developers.braintreepayments.com/guides/apple-pay/client-side/ios/v4">view our official docs for more information</a>.</p>
<h3 id='3d-secure-drop-in' class='heading'>3D-Secure + Drop-In</h3>

<p>The new Drop-In supports 3D-Secure verification. If you have enabled 3D-Secure in the control panel, enable it in the <code><a href="Classes/BTDropInRequest.html">BTDropInRequest</a></code> and set an amount. Then, create a <code>BTThreeDSecureRequest</code> object, setting as many fields on it as possible; the more fields that are set, the less likely it is that a user will be be presented with a challenge. Make sure to attach this object to the <code><a href="Classes/BTDropInRequest.html">BTDropInRequest</a></code> before use.</p>
<pre class="highlight swift"><code><span class="k">let</span> <span class="nv">request</span> <span class="o">=</span> <span class="kt">BTDropInRequest</span><span class="p">()</span>
<span class="n">request</span><span class="o">.</span><span class="n">threeDSecureVerification</span> <span class="o">=</span> <span class="kc">true</span>

<span class="k">let</span> <span class="nv">threeDSecureRequest</span> <span class="o">=</span> <span class="kt">BTThreeDSecureRequest</span><span class="p">()</span>
<span class="n">threeDSecureRequest</span><span class="o">.</span><span class="n">threeDSecureRequestDelegate</span> <span class="o">=</span> <span class="k">self</span>

<span class="n">threeDSecureRequest</span><span class="o">.</span><span class="n">amount</span> <span class="o">=</span> <span class="mf">1.00</span>
<span class="n">threeDSecureRequest</span><span class="o">.</span><span class="n">email</span> <span class="o">=</span> <span class="s">"test@example.com"</span>
<span class="n">threeDSecureRequest</span><span class="o">.</span><span class="n">requested</span> <span class="o">=</span> <span class="o">.</span><span class="n">version2</span>

<span class="k">let</span> <span class="nv">address</span> <span class="o">=</span> <span class="kt">BTThreeDSecurePostalAddress</span><span class="p">()</span>
<span class="n">address</span><span class="o">.</span><span class="n">givenName</span> <span class="o">=</span> <span class="s">"Jill"</span>
<span class="n">address</span><span class="o">.</span><span class="n">surname</span> <span class="o">=</span> <span class="s">"Doe"</span>
<span class="n">address</span><span class="o">.</span><span class="n">phoneNumber</span> <span class="o">=</span> <span class="s">"5551234567"</span>
<span class="n">address</span><span class="o">.</span><span class="n">streetAddress</span> <span class="o">=</span> <span class="s">"555 Smith St"</span>
<span class="n">address</span><span class="o">.</span><span class="n">extendedAddress</span> <span class="o">=</span> <span class="s">"#2"</span>
<span class="n">address</span><span class="o">.</span><span class="n">locality</span> <span class="o">=</span> <span class="s">"Chicago"</span>
<span class="n">address</span><span class="o">.</span><span class="n">region</span> <span class="o">=</span> <span class="s">"IL"</span>
<span class="n">address</span><span class="o">.</span><span class="n">postalCode</span> <span class="o">=</span> <span class="s">"12345"</span>
<span class="n">address</span><span class="o">.</span><span class="n">countryCodeAlpha2</span> <span class="o">=</span> <span class="s">"US"</span>
<span class="n">threeDSecureRequest</span><span class="o">.</span><span class="n">billingAddress</span> <span class="o">=</span> <span class="n">address</span>

<span class="c1">// Optional additional information.</span>
<span class="c1">// For best results, provide as many of these elements as possible.</span>
<span class="k">let</span> <span class="nv">additionalInformation</span> <span class="o">=</span> <span class="kt">BTThreeDSecureAdditionalInformation</span><span class="p">()</span>
<span class="n">additionalInformation</span><span class="o">.</span><span class="n">shippingAddress</span> <span class="o">=</span> <span class="n">address</span>
<span class="n">threeDSecureRequest</span><span class="o">.</span><span class="n">additionalInformation</span> <span class="o">=</span> <span class="n">additionalInformation</span>

<span class="n">request</span><span class="o">.</span><span class="n">threeDSecureRequest</span> <span class="o">=</span> <span class="n">threeDSecureRequest</span>
</code></pre>
<h3 id='managing-payment-methods' class='heading'>Managing payment methods</h3>

<p>By default, if you initialize the Drop-in with a client token generated with a customer ID, Drop-in will add payment methods to that customer within the Braintree Vault.  You can optionally allow the deletion of payment methods for that customer by enabling <code>vaultManager</code>.</p>
<pre class="highlight swift"><code><span class="k">let</span> <span class="nv">request</span> <span class="o">=</span>  <span class="kt">BTDropInRequest</span><span class="p">()</span>
<span class="n">request</span><span class="o">.</span><span class="n">vaultManager</span> <span class="o">=</span> <span class="kc">true</span>
</code></pre>
<h3 id='fetch-last-used-payment-method' class='heading'>Fetch last used payment method</h3>

<p>If your user already has an existing payment method, you may not need to show the Drop-In payment picker. You can check if they have an existing payment method using <code>BTDropInResult:fetchDropInResultForAuthorization</code>. Note that the handler will only return a result when using a client token that was created with a <code>customer_id</code>. <code><a href="Classes/BTDropInResult.html">BTDropInResult</a></code> makes it easy to get a description and icon of the payment method.</p>

<p><img src="Images/saved-single-payment-method.png" alt="Example payment method icon and description" title="Example payment method icon and description"></p>
<pre class="highlight swift"><code><span class="kd">func</span> <span class="nf">fetchExistingPaymentMethod</span><span class="p">(</span><span class="nv">clientToken</span><span class="p">:</span> <span class="kt">String</span><span class="p">)</span> <span class="p">{</span>
    <span class="kt">BTDropInResult</span><span class="o">.</span><span class="nf">fetch</span><span class="p">(</span><span class="nv">forAuthorization</span><span class="p">:</span> <span class="n">clientToken</span><span class="p">,</span> <span class="nv">handler</span><span class="p">:</span> <span class="p">{</span> <span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="n">error</span><span class="p">)</span> <span class="k">in</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">error</span> <span class="o">!=</span> <span class="kc">nil</span><span class="p">)</span> <span class="p">{</span>
            <span class="nf">print</span><span class="p">(</span><span class="s">"ERROR"</span><span class="p">)</span>
        <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="k">let</span> <span class="nv">result</span> <span class="o">=</span> <span class="n">result</span> <span class="p">{</span>
            <span class="c1">// Use the BTDropInResult properties to update your UI</span>
            <span class="k">let</span> <span class="nv">selectedPaymentOptionType</span> <span class="o">=</span> <span class="n">result</span><span class="o">.</span><span class="n">paymentOptionType</span>
            <span class="k">let</span> <span class="nv">selectedPaymentMethod</span> <span class="o">=</span> <span class="n">result</span><span class="o">.</span><span class="n">paymentMethod</span>
            <span class="k">let</span> <span class="nv">selectedPaymentMethodIcon</span> <span class="o">=</span> <span class="n">result</span><span class="o">.</span><span class="n">paymentIcon</span>
            <span class="k">let</span> <span class="nv">selectedPaymentMethodDescription</span> <span class="o">=</span> <span class="n">result</span><span class="o">.</span><span class="n">paymentDescription</span>
        <span class="p">}</span>
    <span class="p">})</span>
<span class="p">}</span>
</code></pre>
<h3 id='localization' class='heading'>Localization</h3>

<p>Drop-In is currently localized for <a href="https://github.com/braintree/braintree-ios-drop-in/tree/master/BraintreeUIKit/Localization">23 languages</a>.</p>
<h3 id='color-schemes' class='heading'>Color Schemes</h3>

<p>Drop-In is fully customizable, but we also provide <code>Light</code>, <code>Dark</code> and <code>Dynamic</code> color schemes. The dynamic color scheme will switch between light and dark based on whether the device is in light or dark mode. The <code>Dynamic</code> scheme is only available in iOS 13 or higher. Drop-In will use the <code>Light</code> color scheme by default.</p>
<pre class="highlight swift"><code><span class="c1">// Set the theme before initializing Drop-In</span>
<span class="kt">BTUIKAppearance</span><span class="o">.</span><span class="nf">sharedInstance</span><span class="p">()</span><span class="o">.</span><span class="n">colorScheme</span> <span class="o">=</span> <span class="o">.</span><span class="kd">dynamic</span>
</code></pre>

<p><img src="Images/client-sdk-ios-series-dark.png" alt="Drop-in dark theme" title="Drop-in dark theme"></p>
<h3 id='customization' class='heading'>Customization</h3>

<p>Use <code><a href="Classes/BTUIKAppearance.html">BTUIKAppearance</a></code> to customize the appearance of Drop-In and other BraintreeUIKit classes.</p>
<pre class="highlight swift"><code><span class="c1">// Example</span>
<span class="kt">BTUIKAppearance</span><span class="o">.</span><span class="nf">sharedInstance</span><span class="p">()</span><span class="o">.</span><span class="n">primaryTextColor</span> <span class="o">=</span> <span class="kt">UIColor</span><span class="o">.</span><span class="n">green</span>
</code></pre>
<h3 id='braintreeuikit' class='heading'>BraintreeUIKit</h3>

<p><code>BraintreeUIKit</code> is our new framework that makes our UI classes public allowing you to create custom checkout experiences. This includes <code>localization</code>, <code>vector art</code>, <code>form fields</code> and other utils you might need when working with payments. <code>BraintreeUIKit</code> has no dependencies on other Braintree frameworks.</p>

<p>To get the standalone <code>BraintreeUIKit</code> framework, add the following to your Podfile:</p>
<pre class="highlight plaintext"><code>pod 'BraintreeDropIn/UIKit'
</code></pre>
<pre class="highlight swift"><code><span class="c1">// Example: Get a Visa card icon</span>
<span class="k">let</span> <span class="nv">visaIcon</span> <span class="o">=</span> <span class="kt">BTUIKPaymentOptionCardView</span><span class="p">()</span>
<span class="n">visaIcon</span><span class="o">.</span><span class="n">paymentOptionType</span> <span class="o">=</span> <span class="kt">BTUIKPaymentOptionType</span><span class="o">.</span><span class="n">visa</span>

<span class="c1">// Example: Create a generic form field and prepare it for autolayout</span>
<span class="k">let</span> <span class="nv">favoriteColorFormField</span> <span class="o">=</span> <span class="kt">BTUIKFormField</span><span class="p">()</span>
<span class="n">favoriteColorFormField</span><span class="o">.</span><span class="n">translatesAutoresizingMaskIntoConstraints</span> <span class="o">=</span> <span class="kc">false</span>
<span class="n">favoriteColorFormField</span><span class="o">.</span><span class="n">textField</span><span class="o">.</span><span class="n">placeholder</span> <span class="o">=</span> <span class="s">"Favorite Color"</span>
<span class="c1">// ... add the form field to your view and use auto layout to position it</span>
</code></pre>

<p>Take a look at <code>BTCardFormViewController.m</code> to see examples of using the form fields and their delegates.</p>
<h3 id='url-query-scheme-whitelist' class='heading'>URL Query Scheme Whitelist</h3>

<p>If your app is compiled with iOS 9 SDK and integrates payment options with an app-switch workflow (Venmo, PayPal), you must add URL schemes to the whitelist in your application&rsquo;s plist.</p>

<p>If your app supports payments from PayPal:</p>

<ul>
<li><code>com.paypal.ppclient.touch.v1</code></li>
<li><code>com.paypal.ppclient.touch.v2</code></li>
</ul>

<p>If your app supports payments from Venmo:</p>

<ul>
<li><code>com.venmo.touch.v2</code></li>
</ul>

<p>For example, if your app supports PayPal, you could add the following:</p>
<pre class="highlight plaintext"><code>  &lt;key&gt;LSApplicationQueriesSchemes&lt;/key&gt;
  &lt;array&gt;
    &lt;string&gt;com.paypal.ppclient.touch.v1&lt;/string&gt;
    &lt;string&gt;com.paypal.ppclient.touch.v2&lt;/string&gt;
  &lt;/array&gt;
</code></pre>

<p>There is a new <code>UIApplicationDelegate</code> method that you may implement on iOS 9:</p>
<pre class="highlight plaintext"><code>- (BOOL)application:(UIApplication *)app openURL:(NSURL *)url options:(NSDictionary&lt;NSString*, id&gt; *)options
</code></pre>

<p>Implementing this method is optional. If you do not implement it, the deprecated equivalent will still be called; otherwise, it will not.</p>

<p>In either case, you still need to implement the deprecated equivalent in order to support iOS 8 or earlier:</p>
<pre class="highlight plaintext"><code>- (BOOL)application:(UIApplication *)application openURL:(NSURL *)url sourceApplication:(NSString *)sourceApplication annotation:(id)annotation
</code></pre>
<h3 id='more-information' class='heading'>More Information</h3>

<p>Start with <a href="https://developers.braintreepayments.com/ios/start/hello-client"><strong>&lsquo;Hello, Client!&rsquo;</strong></a> for instructions on basic setup and usage.</p>

<p>Also see our <a href="https://braintree.github.io/braintree-ios-drop-in/current/"><strong>reference documentation</strong></a>.</p>
<h2 id='demo' class='heading'>Demo</h2>

<p>A demo app is included in project. To run it, run <code>pod install</code> and then open <code>BraintreeDropIn.xcworkspace</code> in Xcode.</p>
<h2 id='help' class='heading'>Help</h2>

<ul>
<li>Read the headers</li>
<li><a href="https://developers.braintreepayments.com/ios/sdk/client">Read the docs</a></li>
<li>Find a bug? <a href="https://github.com/braintree/braintree_ios/issues">Open an issue</a></li>
<li>Want to contribute? <a href="https://github.com/braintree/braintree-ios-drop-in/blob/master/CONTRIBUTING.md">Check out contributing guidelines</a> and <a href="https://help.github.com/articles/creating-a-pull-request">submit a pull request</a>.</li>
</ul>
<h2 id='feedback' class='heading'>Feedback</h2>

<p>The Braintree iOS Drop-In SDK is in active development, we welcome your feedback!</p>

<p>Here are a few ways to get in touch:</p>

<ul>
<li><a href="https://github.com/braintree/braintree-ios-drop-in/issues">GitHub Issues</a> - For generally applicable issues and feedback</li>
<li><a href="https://articles.braintreepayments.com/">Braintree Support</a> / <a href="mailto:support@braintreepayments.com">support@braintreepayments.com</a> - for personal support at any phase of integration</li>
</ul>
<h2 id='license' class='heading'>License</h2>

<p>The Braintree iOS Drop-In SDK is open source and available under the MIT license. See the <a href="https://github.com/braintree/braintree-ios-drop-in/blob/master/LICENSE">LICENSE</a> file for more info.</p>

          </div>
        </section>


      </article>
    </div>
    <section class="footer">
      <p>&copy; 2021 <a class="link" href="http://braintreepayments.com" target="_blank" rel="noopener" rel="external">Braintree</a>. All rights reserved. (Last updated: 2021-08-25)</p>
      <p>Generated by <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="noopener" rel="external">jazzy ♪♫ v0.14.0</a>, a <a class="link" href="https://realm.io" target="_blank" rel="noopener" rel="external">Realm</a> project.</p>
    </section>
  </body>
</div>
</html>
